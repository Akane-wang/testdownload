import{c as O,t as I,u as j,a as M,B as F,w as H,e as G,b as K,d as Y,p as T,f as q,C as Z,n as X,r as z,g as W,_,h as $,s as P,i as ee}from"./common-DrUYzbkl.js";import{d as D,c as v,r as b,a as J,w as te,m as se,b as ne,v as ae,n as re,o as oe,e as E,f as N,F as S,u as ie,g as h,h as L,i as le,j as a,k as R,l as U,t as C,p as de}from"./index-d7EyVCEM.js";const[V,ue]=O("collapse"),x=Symbol(V),Ae={border:I,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var ce=D({name:V,props:Ae,emits:["change","update:modelValue"],setup(A,{emit:m,slots:s}){const{linkChildren:r,children:g}=j(x),c=t=>{m("change",t),m("update:modelValue",t)},f=(t,o)=>{const{accordion:d,modelValue:i}=A;c(d?t===i?"":t:o?i.concat(t):i.filter(w=>w!==t))},n=(t={})=>{if(A.accordion)return;typeof t=="boolean"&&(t={expanded:t});const{expanded:o,skipDisabled:d}=t,w=g.filter(l=>l.disabled&&d?l.expanded.value:o!=null?o:!l.expanded.value).map(l=>l.itemName.value);c(w)},e=t=>{const{accordion:o,modelValue:d}=A;return o?d===t:d.includes(t)};return M({toggleAll:n}),r({toggle:f,isExpanded:e}),()=>{var t;return v("div",{class:[ue(),{[F]:A.border}]},[(t=s.default)==null?void 0:t.call(s)])}}});const ge=H(ce),[pe,k]=O("collapse-item"),me=["icon","title","value","label","right-icon"],fe=G({},q,{name:X,isLink:I,disabled:Boolean,readonly:Boolean,lazyRender:I});var we=D({name:pe,props:fe,setup(A,{slots:m}){const s=b(),r=b(),{parent:g,index:c}=K(x);if(!g)return;const f=J(()=>{var u;return(u=A.name)!=null?u:c.value}),n=J(()=>g.isExpanded(f.value)),e=b(n.value),t=Y(()=>e.value||!A.lazyRender),o=()=>{n.value?s.value&&(s.value.style.height=""):e.value=!1};te(n,(u,p)=>{if(p===null)return;u&&(e.value=!0),(u?re:z)(()=>{if(!r.value||!s.value)return;const{offsetHeight:B}=r.value;if(B){const Q="".concat(B,"px");s.value.style.height=u?"0":Q,W(()=>{s.value&&(s.value.style.height=u?Q:"0")})}else o()})});const d=(u=!n.value)=>{g.toggle(f.value,u)},i=()=>{!A.disabled&&!A.readonly&&d()},w=()=>{const{border:u,disabled:p,readonly:y}=A,B=T(A,Object.keys(q));return y&&(B.isLink=!1),(p||y)&&(B.clickable=!1),v(Z,se({role:"button",class:k("title",{disabled:p,expanded:n.value,borderless:!u}),"aria-expanded":String(n.value),onClick:i},B),T(m,me))},l=t(()=>{var u;return ne(v("div",{ref:s,class:k("wrapper"),onTransitionend:o},[v("div",{ref:r,class:k("content")},[(u=m.default)==null?void 0:u.call(m)])]),[[ae,e.value]])});return M({toggle:d,expanded:n,itemName:f}),()=>v("div",{class:[k({border:c.value&&A.border})]},[w(),l()])}});const he=H(we),Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAABQNJREFUaEPdWl1yG0UQ7nFk6RFzApQTEJ8A+5GKVbFOgPKG9BJzAuwToLxYeUM+AaG8Lh4RJ0CcIOIEwCORss3XM7vS/m/PSAEXU6VSuTQ7019P99ff9NrQIcbVDyf09/ELLPUs+fTJUD+3NNMKf6/ImAUxr6i3/pGmwz/33d4ELyBGv+98RWRGidEhSy2JeE7dzV0oGH8AX/8E7354RYZhuDkJsbr8DOMkjqYUH93Rmy/lpNTDD8Dk4Vui+OpwhhftTIDcPr/RItABmDwgtvn7PUJFa086b0nxk6HmNNoBTB4QKvF3H8/rddhwGkwvaTZ424S+GYA13nr+PxzmJd0+n9cZUA/gURifml0PohrAozI+AcE8rAqnMgCbsPHPwTHP/AuKGPidhBpXKFonoFyhW3zMJb4/C4tH5ETcOS0mdgWA6NcAtvkdCTdFdZ23FiSpI0ebEbG5AtBPPMEs6fbiNPtMHsDk/hpeAtcrB9NfmHlNs4up8ondNFfJpabo97NP8w3dDmCnGzsAzjPwvrK6Mv9G3LnUcHUjOFdjhCqVoZUPpR2AcTQHHGgbxRDje5uzUrikos7QWRKGIu5gHy2wNvIB37OLu9IO9rkO5pjPFbvnTsEBcMf5Tu397vrTkvFamSGq1PAUYfA6Z6wXCJxCd/NUbHAAxpEkFKqtdphTFBdhmgT8MVjLSmn9kNPorYc5R7hwEhJRDFcbHIBJCPMwQIMmY3izqP0V2ydTltRdn+dBqInEMpJx4XP8h37PA89kJPBsMNyu6vIIYaagWISyocdQdWM+pzeDxRaEls5RnQHgHhxuXrX7NdEjk0goT66PhxuS2LOLp9sFLaV/AKm0Db4xNL4X+vqicSrTN9ti5cUWbQZkfi9qnUm0wq/NtQGyBQCid41JyHQH40c5U9y1cqmKUzUGfg1qRWVOhuakcXIIoYhr95CCNRtU06NQHrMUKF89U72diMDZ4Mw3D+oB1FXb7PaHIAAxXIYo2NwJ4DLFsTt5Y/p14dQAIOnjyAIMAZVliXEkhcsNwzghpX6q8n02v6p+b5H3zSG0XTCvABF2qzqP1IZj4w81Ny5XoxqrvABQGBOQYF5IbDvlfCtP0mfbFALCXEmjxQT7GJf9nUCz9k8iaSa4HKgblka1VS+rQH3KvddJIJGlH3QUQ9bzdfujUsjUTFKIUy3wdivCZ1gpoRVzxXIv247vUcy0l5BwO2uftGLOx5Ai5Tnwci9QXgdLpqAZgFZ7m5SpQpAUWc8LTUVrI1QbSQHrbS7tXUAdxlkk2QuNX1KWLyGWNXAR0bRK6joZalWMvWSN3rq/u1I6A5Sy2i5Qvg7KGjakupcIizNMguBLVK4cNxnJlwV137+tbAa0FKx8FO0Ka76t4qcw1S3wxvT1bd2L9/nJs7Sds19ji6SCorFV7DBoCcd2MjR8n1mwQCTl1mIINaatEs27LtdAe5HkS1+L1c6rkPfVzd39dP7SNbIMXlCAImWIHLZN3m3Dy8tuZ3w+dNIF/oft9RRaEDf7O1b3hO8LjkcFIvQVUxYE2+7bYe6+Ope7mCe8i97rJd8OBC7wMbrX/5Jw82jdt79mzXpMKxe0Xi7OE6+7zvW1dgk/ALKq4/Er8PjoYGGVGh535r4vTPwBpK5xAnBk4zQ0tCRUDP5HokofKY8gHEB2g1TEUYyChWJV3cdJtD+KHOPq2NssWl8IKkD8A35lftOKW9jnAAAAAElFTkSuQmCC",Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAA5FJREFUaEPtWl1y0zAQ1tp5p5yAcALSE1BOQDPJE0PT9gTkBm1PQDhBQ8rw1EzLCUhP0PQEhBMQ3ittV7KdOo4d69cTZvBTJiOtvm93tavVCpiHD29O9hgX7xmwNiIeMAZ79LuzJhrZnDFcAsCMIVuwOPoB3fHSdXmwFZCCPkbGTjbA6golUgRgTGS+2pIxJkDA20LwM2BwSDj3dLHWjFsSkBGLFJGFiUwjAjgdnJHGhx6BF7EqItCbXOiS0CKANx86yFuX1q6iiyYbJ10rjro61qglgNOjE2TwOaDWq+gtAcUp9L/dbuO/lUAK/tJUgT7HA8NT6F2Nq2RWEnAHj3e5RdsUWl/ZEttGopSAK3hE9iXuT+RmV58MuSjEH1sCcl4ViQ0CasOK1k8Xn6dIdRH3Jud5wGI6oL+dviVEj++g+50S4vO3QUBcD+5do00gAmRKNo/6k/1KAnw6OCdGZ056ki4TxgKJOxZkrywgMyz56b2L66x8PiABWoNcKdrPcsSKAL8ejAHYsav2y7Qk//OwB1bQ8kFCEUijxC8f2m+CQGqF1/IAmBCYHg3TbOvDAEH3QAYwC6uKgI/Ik2cechM/+1ESkcBHkimarRECtCht5pfgmnXLfK4xAvKc5Cv2N+5CaU4AMT2akTHeetm9qZCmLEDh544IDGT4bIcnIBWl/VGpCm9qR8vCx2eCyRYss0AtmMIA8gw6tNWT2GUCWq79n0BpGC0UNKbuY5JcZRRauJR7leAQTTZtQUzJzV7pQvgQJIzaaNxuDoXREInMDoz5LBntghwlzKHYzaB7o26Qw5wdHPNZ6jCndrxm0jBfIuQMfIh6V50gBU1I2JnstYJG1QScLxjAiyYWd14D8S/EcXtVUkqBVNSPqKj/5Cy8AQH5s9b6tQrn8523Qk77UldrN3P/Qk6ovNjKLL/bESmJPHkvLb/c5fFs51wpcZ1OsWtTfr1+/fEQIbppYD9qL6Gybkm3JmCDQxtb7UDjBkcmMcSVSy3a4sHatsW0RgKph9t0kpM+D2y4rT+2EUartJNcvXPqFtYX2aYaLh9PhUoUH3pps+YXUHkCcRjMGqR1BBgV21PblFLbJy5OVk8NuBjSxqI3Ep7OThI4g3EURyMdrW/NA7ouoB57CE5NcHrsYe1a5CrqjUR829hjjzKCycuVxwMBEZ3P5XMbedNX7Avjb/p/QZqeRSjmLG7NbEHnMTwB3W7jq+VtrD8AAAAASUVORK5CYII=",ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAA6tJREFUaEPtWj1W20AQnlkFU4acIOYEmBPEuQGcIE5hXrpAEUMHdECD6fKgwDlBcoOYE8Q+AT4CLpGRJrOSZQtZlnZWMrF50Xs0eH++b2Z2/nYRSvjoy1EVnmjLV1QnwhoiVHlZ/Rf/BkQwQKSe8rELT4932Gk/FN0ebRegxv6Gv7b+CYAagFizWoeoB4AdNXr8YUtGTEBL2/fomIHvMPANK+DJSUQPgNBRSl3h97OBZE0RAW+vdQwE+6UBTyfSdq4vTk1JGBGg5reaD3hrbSqmaKJxbFrKUbsm2sgl8NQ8aiD4lwuT+jxybFYE6uDNzVkni38mgQA80q1UgGWOZ6/2OYvEXALLAH5qUfNJpBJYJvB5JGYIjA/s7xe3+Ty74zPBB3s7ebBnCHjN1p8X8zZ5oGfdbM+5udiO//sZAfbzJxwZOUgt80enHCcYZ/hNCIQR1tfSLye6LkoG2pRG7maUekwIsPTZ3yLnNivwEVw5N+f7Ew2EiVnl3kL6faVwx/OgLo0X2r87DnR9n34xkC2R2GJaCDTA0mc2eClaBKCv3Md6pEqJ640Hp0B4lfWumATQAZ+FdkjAwvOw5DeTLs2ERFpkDc6fT/ciAXK+pD0SWk3mneaF+CwSNnOySLEFvEMTqc1bRAJIMtZUEwpoF73mYZud6VfTSclxJsBMxtjtT6esgVYXET/YLRDOygKof0/LJotoPsJKRHfo7R3qw1MtQiCLRNq6ZYAfS66nCVBR8FOJZOfuelxp4MeblkogTxNlg9f7/ScQN7+88m8xJtRsDTgHel/0HJiAj/Yo0ZT6r8CNrn4gs2+dSCKsZKypOQepxMonc5otBzPuEsuKin+eTnM94lyf1+wLGt2/HLkfSylo1iq6jSNs0ccKmnFVNGAtvDW1vygX0U3YQiWl5/+Ug4ch1wJVLbxpUV/QG4mIFx2cLOqDHCYs6/RZkGmhKBj5/In0g1woPn9FGltBMR/hnm0tWngkuRCtZwSeJz47vbmLqruEpjRk113Lbe4uImO0lndsYhB1ry90E+zZ9zovOBaQ9lorIS9NN7vkQ9Kn/qXd65DNppFmNpmHOE1U4xghb8Jay537rtw0LuWaNSVO6Lb2orQx5JCqL7pPTLnnmlByofFTA76th0aJRIb8AkC/mTiRvpkQE4gIhQlghUmgJiLr70+l0meJd5TrdqTA50ZiU9XFx2kyUKnUfYAaP6nhy47gmipJqs+twAd+itNVAD1w3a4t6PjefwE2V334HI8bqAAAAABJRU5ErkJggg==",Be="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAA+RJREFUaEPdWk122jAQ1mA2yabpCUpPUDBkXXqCJMuEReEEISdIcoLSE8RZQJZNT1C6Dj/uCUpPkLAhm9jqSLaJDcb6QQZav5f3CEjy982M5k8CYuApj78dWN7zEQUoAaV1SkgJ8C++NH43we8mOKaPYyaetffdrZw8rft6XFPvCUDPPhNKmgSgrLUKpS4B4njW/q0uGWUC5fFdqfBCzwnQJhA40AK+MIkS+kQoOH4RvrqV04nKmkoE7OHdJaF+2xTwRaCcCBQ6o+rptSwJKQLlcbdsvZAbbVORRRONQ9PyiqTlVhquaKqQgD3sNtHOv+Ql9VUAA22Qi1G14WSRyCTAwAOFG5EU8vydAm1lkVhJYBfAzy0qg0QqgV0CH9PuybB2dr+o7SUCbMMWPPJj0zYvMkO2J3yLfFrc2EsEqg/d8ca8jQj1kp+l7vCwUYl/nSBgP3SvAOBSdd1NjqeUXo8OG1fRO+cEeIT1/PGumU5asPOt/fdR6jEnYA96HfznfJPS1H1XXAucAEvMCt7s9zalj5v0D77/nQypYEMHWuAE7GGvDRhtZSbnNOYWXWRTxX1THqXPmNUQsmXPw8FHgpEmgfkS80gQFiOPOUlWtGwCfDS4OuhiwIIj0WQsit6CNGPRauq/p4JXCaQsT4IteZ+1wTN5MW8E9kOvD0A+qgoQa9xfuMSBrOeIrW8EfECA/GQaQPeZLMAlyHAQgft97uP8DxJz2BBj4Pn7cCNDddBDYSo9CRAKJMyCDyErE/AsWlnMCCVI5AKecVAmwNTmFfcxrU32dDJI5AZej0Boe5IkcgXPCdiDLnbM5HKQxE4Ra8KNR9horoqfF+1M5gm13WjkBVZpIq3TZhJ83I2ul0aHOYlIWqbBvwYyA60TTG+dUa3RWkUiD/CcAEslTCVzq0jkBZ4R4Mkc+4DR2FWIpiutZZFEnuDZBh7VzsrGCxpGAqulC0JmWGPn155JFDShGU1QtG9Em1Hm9/AwoyQzVnPMFM2nNC8pQzNazxtpItGZtlTUs0VYW8Xy8MTEkBZ0gEnOmUufR+L4pH+6sRURMeWRJKWpNCzyPPFJKc3dnTUlNB1aFzZ3+YY2EJ2VRCs3WK69PjelHSKRdUrz/x4xRZrAmvkYPztbcK9TlHx7rUO+iETQeqf3JvIlGXNn3sa34Fjm0Ft4zJoSJ9o5amOKUbYTP8AQEVYiEEVs1Aae1uMdCXNRe4pSxyQQOjJSz4wDIsavZoVNLf+ZHYLjnQnpxlZied7dw8sefmHP2dhljzSCYTZbR/XjrRWo40UQvG6TbBSwAwwsoSZYR2ErE1zMJvu6oOMY/gJS3UFTnUy3FQAAAABJRU5ErkJggg==",be={class:"collapse-item-title"},Re={class:"collapseItemdetail"},Ue=["onClick"],ke=["src"],ye=["src"],Ne=["src"],Se=["src"],Ie={class:"content"};(function(A){const m={config:{debug:!1,timeout:3e4,retryTimes:3},init(s={}){this.config={...this.config,...s},this.initMessageListener(),this.log("UniBridge initialized")},initMessageListener(){window.addEventListener("message",s=>{this.log("收到消息:",s.data);try{let r=s.data;r.type==="UniAppJSBridgeMessage"&&(r=r.data),r.type==="response"?this.handleResponse(r):r.type==="init"?this.log("收到初始化消息:",r):r.type==="ack"&&this.log("收到确认消息:",r)}catch(r){this.error("Handle message error:",r)}})},handleResponse(s){this.log("处理响应:",s),s.success?this.log("请求成功:",s.data):this.error("请求失败:",s.error)},async sendMessage(s){try{this.isAppEnvironment()?(await this.waitForPlus(),this.log("使用uni.webView.postMessage发送消息"),uni.webView.postMessage({data:s}),this.log("消息已发送:",s)):(this.log("使用postMessage发送消息"),window.parent.postMessage({data:s},"*"))}catch(r){throw this.error("Send message error:",r),r}},async request(s){const r=this.generateRequestId(),g={action:"request",method:s.method||"post",url:s.url,requestId:r,data:s.data||{}};try{return this.log("发送请求:",g),await this.sendMessage(g),new Promise((c,f)=>{const n=setTimeout(()=>{f(new Error("Request timeout"))},this.config.timeout),e=t=>{const o=t.data;o.type==="response"&&o.requestId===r&&(clearTimeout(n),window.removeEventListener("message",e),o.success?c(o.data):f(new Error(o.error||"Request failed")))};window.addEventListener("message",e)})}catch(c){throw this.error("Request error:",c),c}},isAppEnvironment(){return!!window.plus},waitForPlus(){return new Promise(s=>{window.plus?s(window.plus):document.addEventListener("plusready",()=>{s(window.plus)})})},generateRequestId(){return"req_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)},log(...s){this.config.debug&&console.log("[UniBridge]",...s)},error(...s){console.error("[UniBridge]",...s)}};A.UniBridge=m})(window);const Qe={__name:"index",setup(A){const m=ie();oe(async()=>{const n={config:{debug:!1,timeout:3e4,retryTimes:3},init(e={}){this.config={...this.config,...e},this.initMessageListener(),this.log("UniBridge initialized")},initMessageListener(){window.addEventListener("message",e=>{this.log("收到消息:",e.data);try{let t=e.data;t.type==="UniAppJSBridgeMessage"&&(t=t.data),t.type==="response"?this.handleResponse(t):t.type==="init"?this.log("收到初始化消息:",t):t.type==="ack"&&this.log("收到确认消息:",t)}catch(t){this.error("Handle message error:",t)}})},handleResponse(e){this.log("处理响应:",e),e.success?this.log("请求成功:",e.data):this.error("请求失败:",e.error)},async sendMessage(e){try{this.isAppEnvironment()?(await this.waitForPlus(),this.log("使用uni.webView.postMessage发送消息"),uni.webView.postMessage({data:e}),this.log("消息已发送:",e)):(this.log("使用postMessage发送消息"),window.parent.postMessage({data:e},"*"))}catch(t){throw this.error("Send message error:",t),t}},async request(e){const t=this.generateRequestId(),o={action:"request",method:e.method||"post",url:e.url,requestId:t,data:e.data||{}};try{return this.log("发送请求:",o),await this.sendMessage(o),new Promise((d,i)=>{const w=setTimeout(()=>{i(new Error("Request timeout"))},this.config.timeout),l=u=>{const p=u.data;p.type==="response"&&p.requestId===t&&(clearTimeout(w),window.removeEventListener("message",l),p.success?d(p.data):i(new Error(p.error||"Request failed")))};window.addEventListener("message",l)})}catch(d){throw this.error("Request error:",d),d}},isAppEnvironment(){return!!window.plus},waitForPlus(){return new Promise(e=>{window.plus?e(window.plus):document.addEventListener("plusready",()=>{e(window.plus)})})},generateRequestId(){return"req_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)},log(...e){this.config.debug&&console.log("[UniBridge]",...e)},error(...e){console.error("[UniBridge]",...e)}};window.UniBridge=n,n.init({debug:!0}),f()});const s=b("#1074cc"),r=b("1"),g=b([]);function c(n){if(!n.templateCode)return P({message:"templateCode不能为空!",type:"fail"});m.push({path:"/tableTemplete",query:{type:n.templateCode,refId:n.refId,formId:n.formId,jobOrderId:n.jobOrderId,status:n.jobOrderStatus}})}function f(){$({}).then(n=>{if(n)if(n.data&&n.code===0){const e=n.data.reduce((o,d)=>{const i=d.caseId;return o[i]||(o[i]=[]),o[i].push(d),o},{}),t=Object.values(e);g.value=t,console.log("result",t)}else g.value=[]}).catch(n=>{P({message:n.msg,type:"fail"})})}return(n,e)=>{const t=ee,o=he,d=ge;return h(),E(S,null,[v(t,{title:"案件列表",back:!1,bgColor:s.value},null,8,["bgColor"]),v(d,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=i=>r.value=i),accordion:""},{default:N(()=>[(h(!0),E(S,null,L(g.value,(i,w)=>(h(),le(o,{name:w,key:w},{title:N(()=>[a("div",be,[a("p",null,[e[1]||(e[1]=a("span",null,"案件编号：",-1)),a("span",null,C(i[0].caseId),1)]),e[5]||(e[5]=a("p",null,[a("span",null,"CC编号："),a("span")],-1)),a("p",null,[e[2]||(e[2]=a("span",null,"持牌水喉匠姓名：",-1)),a("span",null,C(i[0].lpName),1)]),a("p",null,[e[3]||(e[3]=a("span",null,"地址：",-1)),de(C(i[0].address),1),e[4]||(e[4]=a("span",null,null,-1))])])]),default:N(()=>[a("div",Re,[(h(!0),E(S,null,L(i,(l,u)=>(h(),E("div",{class:"detailBox",onClick:p=>c(l),key:u},[l.jobOrderStatus=="COMPLETED"?(h(),E("img",{key:0,src:U(Be),alt:""},null,8,ke)):R("",!0),l.jobOrderStatus=="CANCELLED"?(h(),E("img",{key:1,src:U(ve),alt:""},null,8,ye)):R("",!0),l.jobOrderStatus=="PROCESSING"?(h(),E("img",{key:2,src:U(Ee),alt:""},null,8,Ne)):R("",!0),l.jobOrderStatus=="PENDING"?(h(),E("img",{key:3,src:U(Ce),alt:""},null,8,Se)):R("",!0),a("div",Ie,[a("p",null,[e[6]||(e[6]=a("span",null,"工作编号：",-1)),a("span",null,C(l.formId),1)]),a("p",null,[e[7]||(e[7]=a("span",null,"表格：",-1)),a("span",null,C(l.templateCode),1)]),a("p",null,[e[8]||(e[8]=a("span",null,"计划日期：",-1)),a("span",null,C(l.checkDate),1)]),a("p",null,[e[9]||(e[9]=a("span",null,"工作状态：",-1)),a("span",null,C(l.jobOrderStatus),1)])])],8,Ue))),128))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])],64)}}},Je=_(Qe,[["__scopeId","data-v-87d7a1d1"]]);export{Je as default};
